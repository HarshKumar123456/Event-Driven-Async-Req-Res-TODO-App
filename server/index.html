<!DOCTYPE html>
<html>

<head>
  <title>Event Driven TODO App | Harsh Kumar </title>
</head>

<body>

  <h1>This File is Just to Connect the WebSocket</h1>
  <h2>To Serve the Purpose of Inspecting everything that is coming to the Response of the Requests made to the API GW</h2>
  <h3>Please open Browser Developer Console and go to Network and select the WebSocket Connection from there and see the data flow</h3>

  <div id="recent-event-data-container"></div>
</body>

<script>

  let socket = new WebSocket("ws://localhost:8000");
  //socket.onopen = function(e) {
  // alert("[open] Connection etablie");
  //alert("Sending to server");
  //};
  socket.onmessage = function (event) {
    console.log(event.data);
  };
  socket.onclose = function (event) {
    if (event.wasClean) {
      alert(`[close] Connection closed cleanly, code=${event.code} 
 reason=${event.reason}`);
    } else {
      // par exemple : processus serveur arrêté ou réseau en panne
      // event.code est généralement 1006 dans ce cas
      alert('[close] Connection died');
    }
  };
  socket.onerror = function (error) {
    alert(`[error] ${error.message}`);
  };
  socket.onmessage = function (event) {
    document.getElementById("recent-event-data-container").textContent = 'value from event'
  };

</script>

</html>